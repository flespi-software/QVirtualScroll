!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("core-js/modules/es6.function.name.js"),require("core-js/modules/es7.object.get-own-property-descriptors.js"),require("core-js/modules/es6.symbol.js"),require("core-js/modules/web.dom.iterable.js"),require("core-js/modules/es6.array.iterator.js"),require("core-js/modules/es6.object.keys.js"),require("@babel/runtime-corejs2/regenerator"),require("@babel/runtime-corejs2/core-js/object/define-property"),require("core-js/modules/es7.array.includes.js"),require("regenerator-runtime/runtime.js"),require("@babel/runtime-corejs2/core-js/array/is-array"),require("@babel/runtime-corejs2/core-js/array/from"),require("@babel/runtime-corejs2/core-js/is-iterable"),require("@babel/runtime-corejs2/core-js/symbol"),require("core-js/modules/es6.regexp.to-string.js"),require("core-js/modules/es6.object.to-string.js"),require("core-js/modules/es6.regexp.match.js"),require("@babel/runtime-corejs2/core-js/promise"),require("lodash/get"),require("core-js/modules/es6.regexp.split.js"),require("lodash/set")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es6.function.name.js","core-js/modules/es7.object.get-own-property-descriptors.js","core-js/modules/es6.symbol.js","core-js/modules/web.dom.iterable.js","core-js/modules/es6.array.iterator.js","core-js/modules/es6.object.keys.js","@babel/runtime-corejs2/regenerator","@babel/runtime-corejs2/core-js/object/define-property","core-js/modules/es7.array.includes.js","regenerator-runtime/runtime.js","@babel/runtime-corejs2/core-js/array/is-array","@babel/runtime-corejs2/core-js/array/from","@babel/runtime-corejs2/core-js/is-iterable","@babel/runtime-corejs2/core-js/symbol","core-js/modules/es6.regexp.to-string.js","core-js/modules/es6.object.to-string.js","core-js/modules/es6.regexp.match.js","@babel/runtime-corejs2/core-js/promise","lodash/get","core-js/modules/es6.regexp.split.js","lodash/set"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).devicesMessages={},0,0,0,0,0,0,e._regeneratorRuntime,e.defineProperty$1,0,0,e.isArray,e.from,e.isIterable,e.symbol,0,0,0,e.promise,e._get,0,e.set)}(this,function(e,t,r,s,n,a,o,i,c,u,l,f,m,p,d,g,h,v,b,y,j,w){"use strict";function x(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var D=x(i),_=x(c),S=x(f),k=x(m),M=x(p),O=x(d),L=x(b),P=x(y),q=x(w);var E=function(e,t,r){return t in e?_.default(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e};var C=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s};var N=function(e){if(S.default(e))return C(e)};var I=function(e){if(void 0!==O.default&&M.default(Object(e)))return k.default(e)};var H=function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?k.default(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}};var T=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var V=function(e){return N(e)||I(e)||H(e)||T()};function R(e,t,r,s,n,a,o){try{var i=e[a](o),c=i.value}catch(e){return void r(e)}i.done?t(c):L.default.resolve(c).then(s,n)}var A=function(i){return function(){var e=this,o=arguments;return new L.default(function(t,r){var s=i.apply(e,o);function n(e){R(s,t,r,n,a,"next",e)}function a(e){R(s,t,r,n,a,"throw",e)}n(void 0)})}};function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach(function(e){E(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function J(e,t,r){var s={};if(t){var n=t.split("."),a=n.shift(),o="".concat(n.join("."),".").concat(r),i=e.getItem(a);s=P.default(i,o,s)}else s=e.getItem(r)||s;return s}function F(e,t,r,s,n){var a,o=J(e,t,r)||{},i={customColsSchema:$($({},(a=n).schemas),{},{_default:void 0,_protocol:void 0,_unsaved:void 0}),defaultColsSchema:{activeSchema:a.activeSchema,schemas:{_default:a.schemas._default,_protocol:a.schemas._protocol,_unsaved:a.schemas._unsaved},enum:a.enum}},c=i.customColsSchema,u=i.defaultColsSchema;if(o[s]=u,o["custom-cols-schemas"]=$({},c),t){var l=t.split("."),f=l.shift(),m="".concat(l.join("."),".").concat(r),p=e.getItem(f)||{};q.default(p,m,o),e.set(f,p)}else e.set(r,o)}function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach(function(e){E(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var z=["timestamp","server.timestamp","ident","position.latitude","position.longitude","position.altitude","position.speed"];function K(e){var x=e.Vue,_=e.LocalStorage,S=e.errorHandler;function g(e){var t={};return e.limit&&(t.count=e.limit),e.filter&&(t.filter="".concat(e.filter)),e.from&&(t.from=Math.floor(e.from/1e3)),e.to&&(t.to=Math.floor(e.to/1e3)),e.reverse&&(t.reverse=e.reverse),t}function k(e){e.errors&&e.errors.forEach(function(e){var t=new Error(e.reason);S&&S(t)})}function M(e,t){return r.apply(this,arguments)}function r(){return(r=A(D.default.mark(function e(t,r){var s,n,a,o,i;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s={activeSchema:"_default",schemas:{_default:{name:"_default",cols:r.reduce(function(e,t){return(z.includes(t.name)||t.__dest&&t.display)&&e.push({name:t.name,width:t.width}),e},[])},_protocol:{name:"_protocol",cols:r.reduce(function(e,t){return t.custom||e.push({name:t.name,width:150}),e},[])}},enum:{}},!r.length){e.next=13;break}if((n=r.reduce(function(e,t){var r=z.includes(t.name);return e.isDefault=e.isDefault&&(!t.display&&!r||t.display&&(r||!!t.__dest)),e.isProtocol=e.isProtocol&&!t.custom,t.display&&e.schema.push({name:t.name,width:t.width}),e.enum[t.name]=U({},t),delete e.enum[t.name].display,delete e.enum[t.name].width,e},{schema:[],enum:{},isDefault:!0,isProtocol:!0})).isDefault&&n.isProtocol){e.next=12;break}return e.next=6,x.connector.gw.getChannelProtocolsDeviceTypes("all",t,{fields:"title"});case 6:a=e.sent,k(o=a.data),i=P.default(o,"result[0].title","Custom-".concat(t)),s.activeSchema=i,s.schemas[i]={name:i,cols:n.schema};case 12:s.enum=n.enum;case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){var r=(new Date).toString().match(/([-+][0-9]+)\s/)[1];return{activeSchema:"_default",schemas:{_default:{name:"_default",cols:z.map(function(e){return{name:e,width:150}})}},enum:z.reduce(function(e,t){return e[t]={name:t},t.match(/timestamp$/)&&(e[t].addition="".concat(r.slice(0,3),":").concat(r.slice(3)),e[t].type="",e[t].unit=""),e},{})}}function s(){return(s=A(D.default.mark(function e(t,r){var s,n,a,o,i,c,u,l,f,m,p,d,g,h,v,b,y,j,w;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.state,n=t.commit,a=t.rootState,o=r.etc,n("reqStart"),a.token&&s.active)return e.prev=4,x.set(s,"isLoading",!0),e.next=8,x.connector.gw.getDevices(s.active);e.next=55;break;case 8:if(i=e.sent,k(c=i.data),u=c.result&&c.result[0],n("setSettings",u),l=J(_,s.lsNamespace,s.name),f=l&&l[u.device_type_id]?l[u.device_type_id]:O(),m=l&&l["custom-cols-schemas"]?l["custom-cols-schemas"]:{},f.schemas=U(U({},f.schemas),m),Array.isArray(f))return e.next=20,M(u.device_type_id,f);e.next=23;break;case 20:(f=e.sent).schemas=U(U({},f.schemas),m),F(_,s.lsNamespace,s.name,s.settings.device_type_id,f);case 23:if(p=!f.enum||void 0===P.default(f.enum,"timestamp.unit",void 0),"action"===P.default(f.enum,"action.__dest",void 0)&&delete f.enum.action,d=(new Date).toString().match(/([-+][0-9]+)\s/)[1],Object.keys(f.enum).forEach(function(e){if(e.match(/timestamp$/)){var t=f.enum[e];t.addition="".concat(d.slice(0,3),":").concat(d.slice(3)),t.type="",t.unit=""}}),!p){e.next=46;break}if(u.device_type_id)return e.next=31,x.connector.gw.getChannelProtocolsDeviceTypes("all",u.device_type_id,{fields:"protocol_id"});e.next=44;break;case 31:return g=e.sent,k(h=g.data),v=h.result&&h.result[0]&&h.result[0].protocol_id,e.next=37,x.connector.gw.getChannelProtocols(v,{fields:"message_parameters"});case 37:b=e.sent,k(y=b.data),j=y.result&&y.result[0]&&y.result[0].message_parameters,f.schemas._protocol={name:"_protocol",cols:[]},w=(new Date).toString().match(/([-+][0-9]+)\s/)[1],j.forEach(function(e){var t=e.name,r={name:t,type:e.type||"",unit:e.unit||"",description:e.info||""},s={name:t,width:150};if(t.match(/timestamp$/)&&(r.addition="".concat(w.slice(0,3),":").concat(w.slice(3)),r.type="",r.unit="",s.width=190,"timestamp"===t))return f.schemas._protocol.cols.unshift(s),void(f.enum.timestamp=r);f.schemas._protocol.cols.push(s),f.enum[t]=r});case 44:o&&(f.schemas._protocol.cols.push({name:"etc",width:150,__dest:"etc"}),f.schemas._default.cols.push({name:"etc",width:150,__dest:"etc"})),f.enum.etc={name:"etc",__dest:"etc"};case 46:n("setCols",f),x.set(s,"isLoading",!1),e.next=55;break;case 50:e.prev=50,e.t0=e.catch(4),S&&S(e.t0),DEV&&console.log(e.t0),x.set(s,"isLoading",!1);case 55:case"end":return e.stop()}},e,null,[[4,50]])}))).apply(this,arguments)}function t(){return(t=A(D.default.mark(function e(s){var n,a,o,i,c,u,l;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.state,a=s.commit,s.rootState.token&&n.active)return e.prev=2,x.set(n,"isLoading",!0),o={reverse:!0,count:1,fields:"timestamp"},e.next=7,x.connector.gw.getDevicesMessages(n.active,{data:JSON.stringify(o)});e.next=26;break;case 7:if(i=e.sent,k(c=i.data),u=Date.now(),c.result.length&&(u=Math.round(1e3*c.result[0].timestamp)),0,t=u||Date.now(),r=new Date(t).setHours(0,0,0,0),a("setFrom",(l={from:r,to:r+86399999}).from),a("setTo",l.to),l.to<Date.now())return e.next=18,d({state:n});e.next=18;break;case 18:x.set(n,"isLoading",!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(2),S&&S(e.t0),DEV&&console.log(e.t0),x.set(n,"isLoading",!1);case 26:case"end":return e.stop()}var t,r},e,null,[[2,21]])}))).apply(this,arguments)}function h(e,t){return n.apply(this,arguments)}function n(){return(n=A(D.default.mark(function e(t,r){var s,n,a,o,i,c,u;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.state,n=t.commit,a=t.rootState,n("reqStart"),o=[],a.token&&s.active)return i=s.isLoading,e.prev=5,i||x.set(s,"isLoading",!0),e.next=9,x.connector.gw.getDevicesMessages(s.active,{data:JSON.stringify(r)});e.next=21;break;case 9:c=e.sent,k(u=c.data),i||x.set(s,"isLoading",!1),o=u.result||[],e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),S&&S(e.t0),DEV&&console.log(e.t0),i||x.set(s,"isLoading",!1);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e,null,[[5,16]])}))).apply(this,arguments)}function i(e){return a.apply(this,arguments)}function a(){return(a=A(D.default.mark(function e(t){var r,s,n,a,o,i,c,u,l,f,m,p,d;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,s=t.commit,n=t.rootState,r.isLoading){e.next=35;break}return x.set(r,"isLoading",!0),a=Math.floor(Date.now()/1e3),o=g(r),i=0,e.next=8,h({state:r,commit:s,rootState:n},o);case 8:if(c=e.sent,i+=c.length,u=Math.floor(Date.now()/1e3),l=o.to>=u&&r.limit&&c.length<r.limit&&!v,f=function(){},l)return e.next=16,b({state:r,commit:s,rootState:n});e.next=28;break;case 16:return f=e.sent,m=Math.floor(Date.now()/1e3),(p=g(r)).from=a,p.to=m,e.next=23,h({state:r,commit:s,rootState:n},p);case 23:d=e.sent,i+=d.length,c.splice.apply(c,[c.length,0].concat(V(d))),e.next=31;break;case 28:if((o.to<u||r.limit&&c.length>=r.limit)&&v)return e.next=31,y({state:r,commit:s,rootState:n});e.next=31;break;case 31:s("limiting",{type:"init",count:i}),s("setHistoryMessages",c),(l||r.realtimeEnabled)&&(f(),s("limiting",{type:"rt_init"})),x.set(r,"isLoading",!1);case 35:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=A(D.default.mark(function e(t){var r,s,n,a,o,i;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,s=t.commit,n=t.rootState,r.isLoading){e.next=21;break}if(x.set(r,"isLoading",!0),a=Math.floor(P.default(r,"messages[0].timestamp",r.to)-1),(o=g(r)).to=a,o.reverse=!0,v&&r.messages.length>2*r.limit)return e.next=10,y({state:r,commit:s,rootState:n});e.next=11;break;case 10:s("limiting",{type:"rt_deinit"});case 11:return e.next=13,h({state:r,commit:s,rootState:n},o);case 13:if((i=e.sent).length){e.next=17;break}return x.set(r,"isLoading",!1),e.abrupt("return",0);case 17:return s("limiting",{type:"prev",count:i.length}),s("prependMessages",i),x.set(r,"isLoading",!1),e.abrupt("return",i.length);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=A(D.default.mark(function e(t){var r,s,n,a,o,i,c,u,l,f,m,p,d;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,s=t.commit,n=t.rootState,r.isLoading){e.next=34;break}if(r.realtimeEnabled)return e.abrupt("return");e.next=4;break;case 4:return x.set(r,"isLoading",!0),a=Date.now(),o=Math.floor(P.default(r,"messages[".concat(r.messages.length-1,"].timestamp"),r.from)+1),i=g(r),c=0,i.from=o,e.next=12,h({state:r,commit:s,rootState:n},i);case 12:if(u=e.sent,c+=u.length,l=i.to>Math.floor(Date.now()/1e3)&&r.limit&&u.length<r.limit&&!v,f=function(){},l)return e.next=19,b({state:r,commit:s,rootState:n});e.next=29;break;case 19:return f=e.sent,m=Date.now(),(p=g(r)).from=Math.floor(a/1e3),p.to=Math.floor(m/1e3),e.next=26,h({state:r,commit:s,rootState:n},p);case 26:d=e.sent,c+=d.length,u.splice.apply(u,[u.length,0].concat(V(d)));case 29:return s("limiting",{type:"next",count:c}),s("appendMessages",u),l&&(f(),s("limiting",{type:"rt_init"})),x.set(r,"isLoading",!1),e.abrupt("return",c);case 34:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=A(D.default.mark(function e(t,r){var s,n,a,o;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.state,n=t.commit,a=t.rootState,o=s.limit,n("clearMessages"),n("setReverse",!0),n("setLimit",r),e.next=7,i({state:s,commit:n,rootState:a});case 7:n("setReverse",!1),n("setLimit",o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var l=[],v=0;function b(e){return f.apply(this,arguments)}function f(){return(f=A(D.default.mark(function e(t){var r,s;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,s=t.commit,t.rootState,e.next=3,x.connector.subscribeMessagesDevices(r.active,function(e){l.push(JSON.parse(e))},{rh:2});case 3:return r.realtimeEnabled=!0,e.abrupt("return",function(){var e;e=s,v=setInterval(function(){l.length&&(e("setRTMessages",V(l)),l=[])},500)});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return m.apply(this,arguments)}function m(){return(m=A(D.default.mark(function e(t){var r;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,v&&(clearInterval(v),l=[],v=0),e.next=4,x.connector.unsubscribeMessagesDevices(r.active);case 4:r.realtimeEnabled=!1;case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=A(D.default.mark(function e(t){var r,s,n,a,o,i;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,s=t.commit,t.rootState.token&&r.active)return e.prev=2,x.set(r,"isLoading",!0),n=r.messages.reduceRight(function(e,t,r){return e||("offline"===t.__connectionStatus&&(e=r),e)},0),a={from:n?Math.floor(r.messages[n-1].timestamp)+1:0,to:Math.floor(r.messages[n+1].timestamp)},e.next=8,x.connector.gw.getDevicesMessages(r.active,{data:JSON.stringify(a)});e.next=20;break;case 8:o=e.sent,k(i=o.data),s("setMissingMessages",{data:i.result,index:n}),x.set(r,"isLoading",!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),S&&S(e.t0),DEV&&console.log(e.t0),x.set(r,"isLoading",!1);case 20:case"end":return e.stop()}},e,null,[[2,15]])}))).apply(this,arguments)}function d(e){return j.apply(this,arguments)}function j(){return(j=A(D.default.mark(function e(t){var r;return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.state).hasNewMessages=!1,e.next=4,x.connector.subscribeMessagesDevices(r.active,function(){r.hasNewMessages=!0,y({state:r})},{rh:2});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return{getMessages:h,get:i,getPrevPage:function(e){return o.apply(this,arguments)},getNextPage:function(e){return c.apply(this,arguments)},pollingGet:b,getCols:function(e,t){return s.apply(this,arguments)},getHistory:function(e,t){return u.apply(this,arguments)},initTime:function(e){return t.apply(this,arguments)},unsubscribePooling:y,getMissedMessages:function(e){return p.apply(this,arguments)}}}function Q(e){var r=e.Vue,s=e.LocalStorage,u=e.filterHandler,l=e.newMessagesInterseptor,n=0;function f(r){r.length&&r.forEach(function(e,t){r[t]["x-flespi-message-key"]=n++})}function a(e){e.messages.splice(0,e.messages.length),l&&l([]),i(e)}function m(e,t){var r=t.type,s=t.count;if(!e.limit)return!1;var n=e.messages,a=e.pages;switch(r){case"init":e.pages=s?[s]:[];break;case"prev":if(!s)break;if(3===a.length){var o=a[2];e.pages=[s].concat(V(a.slice(0,-1))),n.splice(n.length-o,o)}else e.pages=[s].concat(V(a));break;case"next":if(!s)break;var i=a.length;if(3===i){var c=a[0];e.pages=[].concat(V(a.slice(1,3)),[s]),n.splice(0,c)}else i<3&&a.push(s);break;case"rt_init":a.push(0);break;case"rt_deinit":var u=a.pop();n.splice(n.length-u,u);break;case"rt":var l=a.length,f=a[l-1]||0;if(f+s>e.limit)if(3<l){var m=a[0];e.pages=[].concat(V(a.slice(1,-1)),[f+s,0]),n.splice(0,m)}else e.pages=[].concat(V(a.slice(0,-1)),[f+s,0]);else e.pages[l-1]=f+s}}function t(){return(t=A(D.default.mark(function e(t){return D.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(t),t.filter="",t.from=0,t.to=0,t.limit=1e3,t.reverse=!1,e.next=8,r.connector.unsubscribeMessagesDevices(t.active);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(e,t){F(s,e.lsNamespace,e.name,e.settings.device_type_id,t),r.set(e,"cols",t)}function i(e){r.set(e,"selected",[])}return{setOffline:function(e,t){t&&e.messages.push({__connectionStatus:"offline",timestamp:Date.now()/1e3}),e.offline=!0},setReconnected:function(e,t){t&&e.messages.push({__connectionStatus:"reconnected",timestamp:Date.now()/1e3}),e.offline=!1},setMissingMessages:function(e,t){var r,s=t.data,n=t.index;s.forEach(function(e){e["x-flespi-status"]="missed"}),(r=e.messages).splice.apply(r,[n+1,0].concat(V(s)))},setHistoryMessages:function(e,t){e.reverse&&t.reverse(),f(t),l&&l(t),e.messages=t},setRTMessages:function(e,t){if(t&&t.length){e.filter&&u&&(t=u(e.filter,t)),f(t);var r=e.messages;if(e.sortBy){var s=t[0],n=e.sortBy,a=e.messages.length-1,o=null,i=!0;if(0<a)for(var c=a;0!==c||i;c--)!(r[c][n]>s[n]&&0!==(o=c)||!(i=!1));l&&l(t),o?r.splice.apply(r,[o,0].concat(V(t))):r.splice.apply(r,[r.length,0].concat(V(t)))}else l&&l(t),r.splice.apply(r,[r.length,0].concat(V(t)));m(e,{type:"rt",count:t.length})}},prependMessages:function(e,t){if(t&&t.length){t.reverse();var r=e.messages;f(t),l&&l(t),r.splice.apply(r,[0,0].concat(V(t)))}},appendMessages:function(e,t){if(t&&t.length){var r=e.messages;f(t),l&&l(t),r.splice.apply(r,[r.length,0].concat(V(t)))}},clearMessages:a,setLimit:function(e,t){r.set(e,"limit",t)},limiting:m,setFilter:function(e,t){e.filter!==t&&r.set(e,"filter",t)},setFrom:function(e,t){r.set(e,"from",t)},setTo:function(e,t){r.set(e,"to",t)},reqStart:function(){DEV&&console.log("Start Request Devices messages")},setReverse:function(e,t){r.set(e,"reverse",t)},clear:function(e){return t.apply(this,arguments)},setActive:function(e,t){r.set(e,"active",t)},setCols:o,updateCols:o,setSelected:function(e,t){r.set(e,"selected",t)},clearSelected:i,setSortBy:function(e,t){r.set(e,"sortBy",t)},clearSortBy:function(e){r.set(e,"sortBy",null)},setSettings:function(e,t){r.set(e,"settings",t)}}}e.default=function(e){var t=e.Vue,r=e.LocalStorage,s=e.name,n=e.errorHandler,a=e.filterHandler,o=e.newMessagesInterseptor,i=P.default(s,"lsNamespace",void 0);return{namespaced:!0,state:{name:s=P.default(s,"name",s),lsNamespace:i,isLoading:!1,active:0,messages:[],pages:[],filter:"",settings:{},realtimeEnabled:!1,from:0,to:0,limit:1e3,reverse:!1,cols:void 0,offline:!1,selected:[],sortBy:null,hasNewMessages:null},actions:K({Vue:t,LocalStorage:r,errorHandler:n}),mutations:Q({Vue:t,LocalStorage:r,filterHandler:a,newMessagesInterseptor:o})}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=devicesMessages.js.map
