!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("core-js/modules/es6.function.name"),require("core-js/modules/es6.number.constructor"),require("core-js/modules/es6.regexp.split"),require("core-js/modules/es6.object.assign"),require("vue-virtual-scroll-list"),require("quasar"),require("vue-draggable-resizable"),require("core-js/modules/web.dom.iterable"),require("core-js/modules/es6.array.iterator"),require("core-js/modules/es6.object.to-string"),require("core-js/modules/es6.object.keys"),require("vuedraggable"),require("datetimerangepicker")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es6.function.name","core-js/modules/es6.number.constructor","core-js/modules/es6.regexp.split","core-js/modules/es6.object.assign","vue-virtual-scroll-list","quasar","vue-draggable-resizable","core-js/modules/web.dom.iterable","core-js/modules/es6.array.iterator","core-js/modules/es6.object.to-string","core-js/modules/es6.object.keys","vuedraggable","datetimerangepicker"],t):t((e=e||self).qvirualscroll={},null,null,null,null,e.VirtualList,e.quasar,e.VueDraggableResizable,null,null,null,null,e.draggable,e.DateRangePicker)}(this,function(e,t,i,r,o,s,n,a,l,c,d,h,u,m){"use strict";s=s&&s.hasOwnProperty("default")?s.default:s,a=a&&a.hasOwnProperty("default")?a.default:a,u=u&&u.hasOwnProperty("default")?u.default:u,m=m&&m.hasOwnProperty("default")?m.default:m;var p={props:["item","index","actions","cols","itemHeight","etcVisible","rowWidth","actionsVisible"],computed:{etc:function(){var i=this;return Object.keys(this.item).filter(function(e){return!i.hasInCols(e)}).reduce(function(e,t){return e+="".concat(t,": ").concat(JSON.stringify(i.item[t]),"; ")},"")||"*Empty*"}},methods:{hasInCols:function(t){return!!this.cols.filter(function(e){return t===e.name}).length},clickHandler:function(e,t,i){this.$emit("action",{index:e,type:t,content:i})},itemClickHandler:function(e,t){this.$emit("item-click",{index:e,content:t})}}};var f,g=function(e,t,i,r,o,s,n,a,l,c){"boolean"!=typeof n&&(l=a,a=n,n=!1);var d,h="function"==typeof i?i.options:i;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,o&&(h.functional=!0)),r&&(h._scopeId=r),s?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},h._ssrRegister=d):t&&(d=n?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(h.functional){var u=h.render;h.render=function(e,t){return d.call(t),u(e,t)}}else{var m=h.beforeCreate;h.beforeCreate=m?[].concat(m,d):[d]}return i},v="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var w={};var b=function(e){return function(e,t){return function(e,t){var i=v?t.media||"default":e,r=w[i]||(w[i]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===f&&(f=document.head||document.getElementsByTagName("head")[0]),f.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(o),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var s=r.ids.size-1,n=document.createTextNode(o),a=r.element.childNodes;a[s]&&r.element.removeChild(a[s]),a.length?r.element.insertBefore(n,a[s]):r.element.appendChild(n)}}}(e,t)}},y=g({render:function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",{style:{height:r.itemHeight+"px",width:r.rowWidth+"px"},on:{click:r.itemClickHandler}},[r.actionsVisible?o("span",{staticClass:"list__item item_actions"},r._l(r.actions,function(t,e){return o("q-icon",{key:e,staticClass:"cursor-pointer on-left",class:t.classes,attrs:{name:t.icon},nativeOn:{click:function(e){e.stopPropagation(),r.clickHandler(r.index,t.type,r.item)}}},[o("q-tooltip",[r._v(r._s(t.label))])],1)})):r._e(),r._l(r.cols,function(e,t){var i;return o("span",{key:t,staticClass:"list__item",class:(i={},i["item_"+t]=!0,i)},[r._v(r._s(e.custom?JSON.stringify(r.item[e.name]):r.item[e.name]))])}),r.etcVisible?o("span",{staticClass:"list__item item_etc"},[r._v(r._s(r.etc))]):r._e()],2)},staticRenderFns:[]},function(e){e&&e("data-v-68355cd2_0",{source:".list__item{display:inline-block;white-space:nowrap;margin:0 10px 0 5px;text-overflow:ellipsis;overflow:hidden}",map:void 0,media:void 0})},p,void 0,!1,void 0,b,void 0),_=g({render:function(){var e,o=this,t=o.$createElement,s=o._self._c||t;return s("div",{staticClass:"message-viewer",class:(e={},e["uid"+o.uid]=!0,e)},[s("q-window-resize-observable",{on:{resize:o.onWindowResize}}),o.needShowToolbar?s("q-toolbar",{staticClass:"viewer__toolbar",attrs:{color:o.currentTheme.bgColor}},[o.title&&o.$q.platform.is.desktop?s("span",{staticStyle:{"margin-right":"10px"}},[o._v(o._s(o.title))]):o._e(),o.$q.platform.is.mobile&&o.currentViewConfig.needShowFilter&&!o.showSearch?s("q-icon",{style:{fontSize:"24px",marginBottom:o.currentTheme.controlsInverted?"":"8px",paddingLeft:o.currentTheme.controlsInverted?"8px":""},attrs:{color:o.currentTheme.color,name:"search"},nativeOn:{click:function(e){o.showSearch=!0}}}):o._e(),o.currentViewConfig.needShowFilter&&(o.showSearch&&o.$q.platform.is.mobile||o.$q.platform.is.desktop)?s("q-search",{class:{"full-width":o.$q.platform.is.desktop||o.showSearch,collapsed:o.$q.platform.is.mobile&&!o.showSearch},attrs:{autofocus:o.$q.platform.is.mobile,type:"text",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?"none":o.currentTheme.color,placeholder:"param1=n*,param2,param3>=5",debounce:0},on:{focus:function(e){o.showSearch=!0},blur:o.searchBlurHandler,keyup:function(e){return"button"in e||!o._k(e.keyCode,"enter",13,e.key,"Enter")?o.searchSubmitHandler(e):null}},model:{value:o.currentFilter,callback:function(e){o.currentFilter=e},expression:"currentFilter"}}):o._e(),s("q-toolbar-title"),"toolbar"===o.colsConfigurator?s("q-btn",{staticClass:"on-left",attrs:{color:o.currentTheme.color,flat:""},on:{click:o.colsModalOpenHandler}},[s("q-icon",{attrs:{name:"tune"}})],1):o._e(),!o.currentMode&&o.currentViewConfig.needShowPageScroll&&(!o.showSearch&&o.$q.platform.is.mobile||o.$q.platform.is.desktop)?s("div",{staticClass:"pagination on-left",staticStyle:{"min-width":"52px"}},[-1!==o.currentViewConfig.needShowPageScroll.indexOf("left")?s("q-icon",{staticClass:"cursor-pointer on-right",attrs:{color:o.currentTheme.color,size:"1.5rem",name:"arrow_back"},nativeOn:{click:function(e){o.$emit("change:pagination-prev")}}},[s("q-tooltip",[o._v(o._s(o.i18n.from))])],1):o._e(),-1!==o.currentViewConfig.needShowPageScroll.indexOf("right")?s("q-icon",{staticClass:"cursor-pointer on-right",attrs:{color:o.currentTheme.color,size:"1.5rem",name:"arrow_forward"},nativeOn:{click:function(e){o.$emit("change:pagination-next")}}},[s("q-tooltip",[o._v(o._s(o.i18n.to))])],1):o._e()],1):o._e(),!o.currentMode&&o.currentViewConfig.needShowDate&&(!o.showSearch&&o.$q.platform.is.mobile||o.$q.platform.is.desktop)?s("div",{staticClass:"on-left date",staticStyle:{"min-width":"180px"}},[o.$q.platform.is.desktop&&(!0===o.currentViewConfig.needShowDate||o.currentViewConfig.needShowDate.prev)?s("q-icon",{staticClass:"cursor-pointer arrows",attrs:{color:o.currentTheme.color,size:"1.5rem",name:"keyboard_arrow_left"},nativeOn:{click:function(e){o.$emit("change:date-prev")}}}):o._e(),s("q-datetime",{staticClass:"vsl-date",attrs:{format:"DD-MM-YYYY HH:mm:ss",value:o.currentDate,inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?"grey-8":o.currentTheme.color,type:"datetime",format24h:"",modal:""},on:{change:function(e){o.currentDate=e,o.$emit("change:date",e)}}}),o.$q.platform.is.desktop?s("q-tooltip",[o._v(o._s(o.formatedDate))]):o._e(),o.$q.platform.is.desktop&&(!0===o.currentViewConfig.needShowDate||o.currentViewConfig.needShowDate.next)?s("q-icon",{staticClass:"cursor-pointer arrows",attrs:{color:o.currentTheme.color,size:"1.5rem",name:"keyboard_arrow_right"},nativeOn:{click:function(e){o.$emit("change:date-next")}}}):o._e()],1):o._e(),!o.currentMode&&o.currentViewConfig.needShowDateRange?s("div",{staticClass:"on-left q-v-date-range-picker"},[s("q-btn",{staticClass:"q-pa-none",staticStyle:{"min-width":"130px","font-size":".8rem"},attrs:{flat:"",color:o.currentTheme.color},on:{click:o.dateRangeToggle}},[s("div",[s("div",[o._v(o._s(o.formatDate(o.dateRange[0])))]),s("div",{staticStyle:{"font-size":".5rem"}},[o._v("|")]),s("div",[o._v(o._s(o.formatDate(o.dateRange[1])))])])]),s("q-popover",{directives:[{name:"show",rawName:"v-show",value:o.$q.platform.is.desktop&&!o.dateRangeModalView,expression:"$q.platform.is.desktop && !dateRangeModalView"}],ref:"dateRangePicker",staticClass:"q-pa-sm bg-dark",attrs:{anchor:"top left",self:"center left","max-height":"500px",fit:""}},[s("date-range-picker",{attrs:{mode:o.currentDateRangeMode,theme:o.currentTheme},on:{"change:mode":o.changeModeDateTimeRangeHandler},model:{value:o.currentDateRange,callback:function(e){o.currentDateRange=e},expression:"currentDateRange"}}),s("q-btn",{staticStyle:{float:"right"},attrs:{color:"white",flat:"",icon:"check",label:"Set"},on:{click:o.setDateRange}})],1),o.$q.platform.is.mobile||o.dateRangeModalView?s("q-modal",{ref:"dateRangePickerModal",staticClass:"modal-date-range",attrs:{"content-css":{maxWidth:"500px"}}},[s("q-modal-layout",{class:["bg-"+o.theme.bgColor]},[s("q-toolbar",{attrs:{slot:"header",color:o.theme.bgColor},slot:"header"},[s("div",{staticClass:"q-toolbar-title",class:["text-"+o.theme.color]},[o._v("\n              Time range\n            ")])]),s("div",{staticClass:"flex flex-center"},[s("date-range-picker",{staticClass:"q-ma-sm",attrs:{mode:o.currentDateRangeMode,theme:o.currentTheme},on:{"change:mode":o.changeModeDateTimeRangeHandler},model:{value:o.currentDateRange,callback:function(e){o.currentDateRange=e},expression:"currentDateRange"}})],1),s("q-toolbar",{staticStyle:{"justify-content":"flex-end"},attrs:{slot:"footer",color:o.currentTheme.bgColor},slot:"footer"},[s("q-btn",{staticClass:"pull-right",attrs:{flat:"",color:o.currentTheme.color},on:{click:o.dateRangeModalClose}},[o._v("close")]),s("q-btn",{staticClass:"pull-right",attrs:{flat:"",color:o.currentTheme.color},on:{click:o.dateRangeModalSave}},[o._v("save")])],1)],1)],1):o._e()],1):o._e(),o.currentViewConfig.needShowMode&&(!o.showSearch&&o.$q.platform.is.mobile||o.$q.platform.is.desktop)?s("q-checkbox",{staticClass:"no-margin",attrs:{color:o.currentTheme.color,"checked-icon":"playlist_play","unchecked-icon":"history"},on:{change:function(e){o.$emit("change:mode",Number(o.currentMode))}},model:{value:o.currentMode,callback:function(e){o.currentMode=e},expression:"currentMode"}}):o._e()],1):o._e(),s("q-modal",{ref:"colsModal",staticClass:"modal-cols-configurator",attrs:{"content-css":{minWidth:"50vw",minHeight:"50vh",maxWidth:"500px"}}},[s("q-modal-layout",{class:["bg-"+o.currentTheme.bgColor]},[s("q-toolbar",{attrs:{slot:"header",color:o.currentTheme.bgColor},slot:"header"},[s("div",{staticClass:"q-toolbar-title",class:["text-"+o.currentTheme.color]},[o._v("\n          Configure cols\n        ")])]),s("div",{staticClass:"layout-padding",class:["bg-"+o.currentTheme.bgColor]},[o.actions&&o.actions.length?s("q-field",{staticClass:"q-pt-sm q-pb-sm",attrs:{label:o.actionField.name,labelWidth:3,dark:"dark"===o.currentTheme.bgColor}},[s("div",{staticClass:"row"},[s("q-slider",{staticClass:"col-8",attrs:{min:50,max:800,value:o.actionField.width,label:"","label-value":o.actionField.width+"px",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?o.actionField.display?"white":"grey-8":o.currentTheme.color},on:{input:function(e){o.onResize(e,"actions")}}}),s("q-icon",{staticClass:"col-1 cursor-pointer",attrs:{size:"1.5rem",name:o.actionField.display?"mdi-eye":"mdi-eye-off",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?o.actionField.display?"white":"grey-8":o.currentTheme.color},nativeOn:{click:function(e){o.actionField.display=!o.actionField.display}}})],1)]):o._e(),s("draggable",{attrs:{list:o.currentCols,handle:".handle"}},o._l(o.currentCols,function(t,i){return s("q-field",{key:t.name,staticClass:"q-pt-sm q-pb-sm",attrs:{label:t.name,labelWidth:3,dark:"dark"===o.currentTheme.bgColor}},[s("div",{staticClass:"row"},[s("q-slider",{staticClass:"col-8",attrs:{min:50,max:800,label:"","label-value":t.width+"px",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?t.display?"white":"grey-8":o.currentTheme.color},model:{value:t.width,callback:function(e){o.$set(t,"width",e)},expression:"col.width"}}),s("q-icon",{staticClass:"col-1 cursor-pointer",attrs:{size:"1.5rem",name:t.display?"mdi-eye":"mdi-eye-off",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?t.display?"white":"grey-8":o.currentTheme.color},nativeOn:{click:function(e){t.display=!t.display}}}),s("q-btn",{staticClass:"col-1",attrs:{flat:"",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?t.display?"white":"grey-8":o.currentTheme.color},on:{click:function(e){o.customFieldRemove(i)}}},[s("q-icon",{attrs:{name:"remove"}})],1),s("q-icon",{staticClass:"col-1 handle",staticStyle:{cursor:"move"},attrs:{size:"1.5rem",name:"mdi-drag",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?t.display?"white":"grey-8":o.currentTheme.color}})],1)])})),s("q-field",{staticClass:"q-pt-sm q-pb-sm",attrs:{label:o.etcField.name,labelWidth:3,dark:"dark"===o.currentTheme.bgColor}},[s("div",{staticClass:"row"},[s("q-slider",{staticClass:"col-8",attrs:{min:50,max:800,value:o.etcField.width,label:"","label-value":o.etcField.width+"px",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?o.etcField.display?"white":"grey-8":o.currentTheme.color},on:{input:function(e){o.onResize(e,"etc")}}}),s("q-icon",{staticClass:"col-1 cursor-pointer",attrs:{size:"1.5rem",name:o.etcField.display?"mdi-eye":"mdi-eye-off",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?o.etcField.display?"white":"grey-8":o.currentTheme.color},nativeOn:{click:function(e){o.etcField.display=!o.etcField.display}}})],1)]),s("q-field",{staticClass:"q-pt-lg",staticStyle:{"border-top":"1px solid #333","padding-top":"10px"},attrs:{label:"add custom field",labelWidth:3,dark:"dark"===o.currentTheme.bgColor}},[s("div",{staticClass:"row"},[s("q-input",{staticClass:"col-4",attrs:{placeholder:o.customField.error?o.customField.errMessages:"name",type:"text",error:o.customField.error,inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?"grey-8":o.currentTheme.color},model:{value:o.customField.name,callback:function(e){o.$set(o.customField,"name",e)},expression:"customField.name"}}),s("q-slider",{staticClass:"col-4",attrs:{min:50,max:800,label:"","label-value":o.customField.width+"px",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?o.customField.display?"white":"grey-8":o.currentTheme.color},model:{value:o.customField.width,callback:function(e){o.$set(o.customField,"width",e)},expression:"customField.width"}}),s("q-icon",{staticClass:"col-1 cursor-pointer",attrs:{size:"1.5rem",name:o.customField.display?"mdi-eye":"mdi-eye-off",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?o.customField.display?"white":"grey-8":o.currentTheme.color},nativeOn:{click:function(e){o.customField.display=!o.customField.display}}}),s("q-btn",{staticClass:"col-1",attrs:{flat:"",inverted:o.currentTheme.controlsInverted,color:o.currentTheme.controlsInverted?"white":o.currentTheme.color},on:{click:o.customFieldSave}},[s("q-icon",{attrs:{name:"add"}})],1)],1)])],1),s("q-toolbar",{staticStyle:{"justify-content":"flex-end"},attrs:{slot:"footer",color:o.currentTheme.bgColor},slot:"footer"},[s("q-btn",{staticClass:"pull-right",attrs:{flat:"",color:o.currentTheme.color},on:{click:o.colsModalClose}},[o._v("close")]),s("q-btn",{staticClass:"pull-right",attrs:{flat:"",color:o.currentTheme.color},on:{click:o.colsModalSave}},[o._v("save")])],1)],1)],1),s("div",{ref:"wrapper",staticClass:"list-wrapper",class:{"bg-dark":o.currentTheme.contentInverted},style:{top:o.needShowToolbar?"50px":"0",bottom:0,right:0,left:0}},[s("q-resize-observable",{on:{resize:o.wrapperResizeHandler}}),o.items.length&&o.currentTheme.headerShow?s("div",{ref:"header",staticClass:"list__header",class:["text-"+o.currentTheme.color,"bg-"+o.currentTheme.bgColor],style:{height:o.itemHeight+"px"},on:{dblclick:function(e){"header"===o.colsConfigurator&&o.$refs.colsModal.show()}}},[s("div",{staticClass:"header__inner",style:{width:o.rowWidth+"px"}},[o.actionField.display?s("div",{staticClass:"header__item item_actions"},[s("q-tooltip",[o._v("Actions")]),s("span",{staticClass:"item__label"},[o._v(o._s(o.actionField.name))]),o.$q.platform.is.desktop&&o.isNeedResizer?s("vue-draggable-resizable",{ref:"dragActions",staticStyle:{"background-color":"transparent"},attrs:{active:!0,draggable:!1,handles:["mr"],w:o.actionField.width,h:o.itemHeight,minw:50},on:{resizestop:function(e,t,i){o.onResize(i,"actions")}}}):o._e()],1):o._e(),s("draggable",{attrs:{list:o.cols,element:"span"},on:{end:function(e){o.$emit("update:cols",o.cols)}}},[o._l(o.cols,function(e,r){var t;return[e.display?s("div",{key:e.name,staticClass:"header__item",class:(t={},t["item_"+o.activeColsIndexes[r]]=!0,t),staticStyle:{cursor:"move"}},[e.description||e.title?s("q-tooltip",[o._v(o._s(e.name+": "+(e.description?e.description:""))+"\n              ")]):o._e(),s("span",{staticClass:"item__label"},[o._v(o._s(e.title||e.name)),e.addition?s("span",[o._v("("+o._s(e.addition)+")")]):o._e()]),o.$q.platform.is.desktop&&o.isNeedResizer?s("vue-draggable-resizable",{ref:"drag"+o.activeColsIndexes[r],refInFor:!0,attrs:{active:!0,draggable:!1,handles:["mr"],w:e.width,preventDeactivation:!0,h:o.itemHeight*(o.itemsCount+1),minw:50,z:1},on:{resizestop:function(e,t,i){o.onResize(i,o.activeColsIndexes[r])}}}):o._e()],1):o._e()]})],2),o.etcField.display?s("div",{staticClass:"header__item item_etc"},[s("q-tooltip",[o._v("Another info by message")]),s("span",{staticClass:"item__label"},[o._v(o._s(o.etcField.name))]),o.$q.platform.is.desktop&&o.isNeedResizer?s("vue-draggable-resizable",{ref:"dragEtc",attrs:{active:!0,"enable-native-drag":!0,draggable:!1,handles:["mr"],w:o.etcField.width,h:o.itemHeight,minw:50},on:{resizestop:function(e,t,i){o.onResize(i,"etc")}}}):o._e()],1):o._e()],1)]):o._e(),o.items.length?o._e():s("div",{staticClass:"no-messages text-center",class:{"text-grey-6":o.currentTheme.contentInverted},staticStyle:{"font-size":"3rem","padding-top":"40px"}},[o._v(o._s(o.i18n["Messages not found"]||"Messages not found")+"\n    ")]),o.items.length?s("VirtualList",{directives:[{name:"auto-bottom",rawName:"v-auto-bottom",value:o.needAutoScroll,expression:"needAutoScroll"}],ref:"scroller",class:{"bg-dark":o.currentTheme.contentInverted,"text-white":o.currentTheme.contentInverted,"cursor-pointer":o.hasItemClickHandler},style:{position:"absolute",top:o.itemHeight+"px",bottom:0,right:0,left:0,height:"auto"},attrs:{onscroll:o.listScroll,size:o.itemHeight,remain:o.itemsCount,debounce:10,wclass:"q-w-list"}},[o._l(o.items,function(e,t){return o._t("items",[s("list-item",{key:t,attrs:{item:e,index:t,actions:o.actions,cols:o.activeCols,etcVisible:o.etcField.display,actionsVisible:o.actionField.display,itemHeight:o.itemHeight,rowWidth:o.rowWidth},on:{action:o.clickHandler,"item-click":o.itemClickHandler}})],{item:e,index:t,actions:o.actions,cols:o.activeCols,etcVisible:o.etcField.display,actionsVisible:o.actionField.display,itemHeight:o.itemHeight,rowWidth:o.rowWidth})})],2):o._e()],1)],1)},staticRenderFns:[]},function(e){e&&e("data-v-0a3672e0_0",{source:".message-viewer .viewer__toolbar .on-right{margin-left:0}.message-viewer .list-wrapper{position:absolute}.message-viewer .list-wrapper .list__header{display:block;overflow:hidden;width:100%;position:relative}.message-viewer .list-wrapper .list__header .header__inner{position:absolute;white-space:nowrap}.message-viewer .list-wrapper .list__header .header__inner .header__item{display:inline-block;white-space:nowrap;margin:0 10px 0 5px;position:relative}.message-viewer .list-wrapper .list__header .header__inner .header__item .item__label{text-overflow:ellipsis;overflow:hidden;display:block}.message-viewer .list-wrapper .list__header .header__inner .header__item .handle-mr{box-sizing:border-box;position:absolute;width:5px;font-size:1px;background:#eee;right:-10px;cursor:e-resize;top:0;height:100%;margin-top:0;border:none;border-right:2px solid #616161;background-color:inherit}.message-viewer .collapsed{max-width:40px}.message-viewer .q-w-list>*{display:block;white-space:nowrap}.message-viewer .q-w-list>:nth-child(odd){background-color:rgba(0,0,0,.2)}.modal-cols-configurator .q-field-label-inner span{text-overflow:ellipsis;width:100%;overflow:hidden}.q-field[draggable=true]{background-color:#9e9e9e}.date .arrows{position:relative}.date .vsl-date{display:inline-flex;max-width:105px}.date .vsl-date .row .col{font-size:13px;white-space:inherit;text-align:center;line-height:15px}.date .vsl-date i{display:none}",map:void 0,media:void 0})},{name:"VirtualScrollList",props:{items:{type:Array,required:!0},i18n:{type:Object},cols:{type:Array,required:!0},actions:{type:Array,required:!0},date:{type:Number},dateRange:{type:Array},filter:{type:String,default:""},title:{type:String,default:""},mode:{type:Number,default:0},colsConfigurator:{type:String,default:"none"},itemHeight:{type:Number,default:19},theme:Object,viewConfig:Object},components:{draggable:u,VirtualList:s,VueDraggableResizable:a,ListItem:y,DateRangePicker:m},data:function(){var e={needShowFilter:!1,needShowMode:!1,needShowPageScroll:"",needShowDate:!1,needShowDateRange:!1,needShowEtc:!1};return{uid:0,currentFilter:this.filter,currentMode:!!this.mode,dateValue:this.date,wrapperHeight:0,itemsCount:0,defaultItemWidth:150,dynamicCSS:document.createElement("style"),showSearch:!1,needAutoScroll:!!this.mode,currentCols:[],customField:{name:"",width:150,display:!1,custom:!0,error:!1,errMessages:""},actionField:{name:"action",width:this.actions.length?2<=this.actions.length?28*this.actions.length:50:150,display:this.actions&&!!this.actions.length},etcField:{name:"etc",width:150,display:this.viewConfig.needShowEtc||!1},defaultTheme:{color:"dark",bgColor:"white",controlsInverted:!1,contentInverted:!1,headerShow:!0},defaultConfig:e,hasItemClickHandler:!1,currentScrollTop:0,currentViewConfig:Object.assign(e,this.viewConfig),isNeedResizer:!0,allScrollTop:0,currentDateRange:this.dateRange,currentDateRangeMode:0,dateRangeModalView:!0}},computed:{needShowToolbar:function(){return this.currentViewConfig.needShowMode||this.currentViewConfig.needShowFilter||this.currentViewConfig.needShowDate||this.currentViewConfig.needShowPageScroll},activeCols:function(){return this.cols.filter(function(e){return e.display})},activeColsIndexes:function(){var r=0;return this.cols.reduce(function(e,t,i){return t.display&&(e[i]=r,r++),e},{})},notActiveCols:function(){return this.cols.filter(function(e){return!e.display})},currentTheme:function(){return Object.assign(this.defaultTheme,this.theme)},rowWidth:function(){var e=0;return this.etcField.display&&(e+=this.etcField.width+15),this.actionField.display&&(e+=this.actionField.width+15),(e+=this.activeCols.reduce(function(e,t){return e+t.width+15},0))+5},formatedDate:function(){return n.date.formatDate(this.currentDate,"DD MMMM YYYY")},currentDate:{set:function(e){this.dateValue=new Date(e).setSeconds(0)},get:function(){return this.dateValue}}},methods:{searchSubmitHandler:function(){this.$emit("change:filter",this.currentFilter)},searchClearHandler:function(){this.currentFilter="",this.searchSubmitHandler()},searchBlurHandler:function(){this.searchSubmitHandler(),this.showSearch=!1},openSearch:function(){this.showSearch=!0},colsModalOpenHandler:function(){this.cols.length&&(this.currentCols=JSON.parse(JSON.stringify(this.cols))),this.$refs.colsModal.show()},colsModalSave:function(){this.$refs.colsModal.hide(),this.$emit("update:cols",this.currentCols)},colsModalClose:function(){this.$refs.colsModal.hide(),this.currentCols=JSON.parse(JSON.stringify(this.cols)),this.customField={name:"",width:150,display:!1}},customFieldSave:function(){var t=this;return this.customField.name?this.currentCols.filter(function(e){return e.name===t.customField.name}).length?(this.customField.error=!0,this.customField.name="",!(this.customField.errMessages="name is duplicated")):(this.currentCols.push(this.customField),void(this.customField={name:"",width:150,display:!1,error:!1,errMessages:""})):(this.customField.error=!0,!(this.customField.errMessages="name is empty"))},customFieldRemove:function(e){this.currentCols.splice(e,1)},clickHandler:function(e){var t=e.index,i=e.type,r=e.content;this.$emit("action",{index:t,type:i,content:r})},itemClickHandler:function(e){var t=e.index,i=e.content;this.$emit("item-click",{index:t,content:i})},resetParams:function(){if(!this.$refs.wrapper)return!1;var e=0<this.rowWidth-this.$refs.wrapper.offsetWidth;(this.wrapperHeight=this.$refs.wrapper.offsetHeight-this.itemHeight-(e?this.itemHeight:0),this.itemsCount=Math.ceil(this.wrapperHeight/this.itemHeight),this.$refs.scroller)&&(this.$refs.scroller.$el.scrollTop+=1)},wrapperResizeHandler:function(){this.resetParams()},onResize:function(e,t){"etc"===t&&(this.etcField.width=e),"actions"===t&&(this.actionField.width=e),"number"==typeof t&&(this.activeCols[t].width=e),this.updateDynamicCSS()},listScroll:function(e,t){if(this.currentScrollTop||(this.currentScrollTop=t.offset),this.$refs.scroller){var i=this.$refs.scroller.$el||this.$refs.scroller;this.allScrollTop=i.scrollHeight-i.clientHeight}this.items.length&&(t.offset<this.currentScrollTop&&this.needAutoScroll?this.needAutoScroll=!1:!this.needAutoScroll&&1===this.mode&&t.offset>=this.allScrollTop&&(this.needAutoScroll=!0),this.currentScrollTop=t.offset,this.$refs.wrapper&&(this.$refs.wrapper.querySelector(".list__header .header__inner").style.left=e.target.querySelector(".q-w-list").getBoundingClientRect().left-this.$refs.wrapper.getBoundingClientRect().left+"px"))},getDynamicCSS:function(){var r=this,e="";return this.actionField.display&&(e+=".uid".concat(this.uid," .item_actions { width: ").concat(this.actionField.width,"px }")),this.etcField.display&&(e+=".uid".concat(this.uid," .item_etc { width: ").concat(this.etcField.width,"px }")),e+=this.activeCols.reduce(function(e,t,i){return e+=".uid".concat(r.uid," .item_").concat(i," { width: ").concat(t.width,"px }")},"")},updateDynamicCSS:function(){this.dynamicCSS.type="text/css";var e=document.head||document.getElementsByTagName("head")[0];this.dynamicCSS.styleSheet?this.dynamicCSS.styleSheet.cssText=this.getDynamicCSS():this.dynamicCSS.innerText=this.getDynamicCSS(),e.appendChild(this.dynamicCSS)},formatDate:function(e){return n.date.formatDate(e,"DD/MM/YYYY HH:mm:ss")},setDateRange:function(){this.$emit("change:date-range",this.currentDateRange),this.dateRangeModalClose()},changeModeDateTimeRangeHandler:function(e){var t=this;this.currentDateRangeMode=e,this.$nextTick(function(){t.$refs.dateRangePicker.$el.style.maxHeight="500px"})},dateRangeToggle:function(){(this.$q.platform.is.mobile||this.dateRangeModalView)&&(this.$q.platform.is.desktop&&!this.dateRangeModalView?this.$refs.dateRangePicker:this.$refs.dateRangePickerModal).toggle()},dateRangeModalSave:function(){this.$emit("change:date-range",this.currentDateRange),this.dateRangeModalClose()},dateRangeModalClose:function(){(this.$q.platform.is.desktop&&!this.dateRangeModalView?this.$refs.dateRangePicker:this.$refs.dateRangePickerModal).hide()},onWindowResize:function(e){e.height<670?this.dateRangeModalView=!0:this.dateRangeModalView=!1}},updated:function(){this.items.length?this.needAutoScroll&&this.$refs.scroller&&(this.$refs.scroller.$el.scrollTop=this.$refs.scroller.$el.scrollHeight):this.currentScrollTop=0},watch:{date:function(e){this.currentDate=e},mode:function(e){this.currentMode=!!e,this.needAutoScroll=!!e},filter:function(e){this.currentFilter!==e&&(this.currentFilter=e)},cols:{deep:!0,handler:function(e){var t=this;e.length||(this.etcField.display=!0),this.updateDynamicCSS(),this.isNeedResizer=!1,this.$nextTick(function(){t.isNeedResizer=!0})}},viewConfig:{deep:!0,handler:function(e){this.etcField.display=e.needShowEtc,this.currentViewConfig=Object.assign(this.defaultConfig,e)}}},mounted:function(){this.hasItemClickHandler=!!this._events["item-click"],this.uid=n.uid().split("-")[0];var e=this.$refs.wrapper.offsetWidth;this.rowWidth<e&&(this.etcField.width=e-(this.rowWidth-150)),this.resetParams(),this.updateDynamicCSS()},destroyed:function(){(document.head||document.getElementsByTagName("head")[0]).removeChild(this.dynamicCSS)},directives:{"auto-bottom":{inserted:n.debounce(function(e,t){t.value&&(e.scrollTop=e.scrollHeight)},100),componentUpdated:function(e,t){t.value&&(e.scrollTop=e.scrollHeight)}}}},void 0,!1,void 0,b,void 0);e.default=_,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=qvirualscroll.js.map
